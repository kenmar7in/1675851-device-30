const feedbackLink=document.querySelector(".contacts .btn"),feedbackPopup=document.querySelector(".modal-feedback"),mapLink=document.querySelector(".map"),mapPopup=document.querySelector(".modal-map"),closeFeedback=document.querySelector(".feedback-close-btn"),closeMap=document.querySelector(".map-close-btn");feedbackLink.addEventListener("click",function(e){e.preventDefault(),feedbackPopup.classList.add("modal-show"),userName.focus(),storageName?(userName.value=storageName,userEmail.focus()):userName.focus()}),closeFeedback.addEventListener("click",function(e){e.preventDefault(),feedbackPopup.classList.remove("modal-show"),feedbackPopup.classList.remove("modal-error")}),mapLink.addEventListener("click",function(e){e.preventDefault(),mapPopup.classList.add("modal-show")}),closeMap.addEventListener("click",function(e){e.preventDefault(),mapPopup.classList.remove("modal-show")});const form=feedbackPopup.querySelector("form"),userName=feedbackPopup.querySelector("[name=name]"),userEmail=feedbackPopup.querySelector("[name=email]"),userMessage=feedbackPopup.querySelector("[name=message]"),storageName=localStorage.getItem("userName");form.addEventListener("submit",function(e){userName.value&&userEmail.value&&userMessage.value?isStorageSupport&&localStorage.setItem("userName",userName.value):(e.preventDefault(),feedbackPopup.classList.add("modal-error"))});let isStorageSupport=!0,storage="";try{storage=localStorage.getItem("userName")}catch(e){isStorageSupport=!1}window.addEventListener("keydown",function(e){27===e.keyCode&&(feedbackPopup.classList.contains("modal-show")&&(e.preventDefault(),feedbackPopup.classList.remove("modal-show"),feedbackPopup.classList.remove("modal-error")),mapPopup.classList.contains("modal-show")&&(e.preventDefault(),mapPopup.classList.remove("modal-show")))});const products=document.querySelectorAll(".product-item"),controls=document.querySelectorAll(".prod-controls .button");for(var i=0;len=controls.length,i<len;i++)!function(t){controls[i].addEventListener("click",function(){for(var e=0;len=controls.length,e<len;e++)controls[e].classList.remove("current"),this.classList.add("current");for(e=0;len=products.length,e<len;e++)products[e].classList.remove("current"),products[t].classList.add("current")})}(i);const services=document.querySelectorAll(".info-item"),serviceButtons=document.querySelectorAll(".service-item");for(i=0;len=serviceButtons.length,i<len;i++)!function(o){serviceButtons[i].addEventListener("click",function(e){e.preventDefault();for(var t=0;len=serviceButtons.length,t<len;t++)serviceButtons[t].classList.remove("current"),this.classList.add("current");for(t=0;len=services.length,t<len;t++)services[t].classList.remove("current"),services[o].classList.add("current")})}(i);